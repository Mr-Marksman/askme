<h2 class="title-lg">User editing</h2>

<% if @user.errors.any? %>
  <div>
    <% @user.errors.full_messages.each do |message| %>
      <p class="mt-sm register_error_message"><%= message %></p>
    <% end %>
  </div>
<% end %>

<div class="mt">
  <%= form_with model: @user, data: {turbo: false} do |form| %>
    <p class="mt-lg center"><%= form.label :color, "Header color", class: "label" %></p>
    <p class="mt-sm center select-field">
      <input name="user[color]" type="color" id="color">
    </p>

    <p class="mt-lg center"><%= form.label :name, "Your name", class: "label" %></p>
    <p class="mt-sm center"><%= form.text_field :name, class: "form_register" %></p>

    <p class="mt-lg center"><%= form.label :nickname, "Your nickname", class: "label" %></p>
    <p class="mt-sm center"><%= form.text_field :nickname, class: "form_register" %></p>

    <p class="mt-lg center"><span class="mt-lg center label grey">If you won't change password - leave the fields below empty</span></p>

    <p class="mt-lg center"><%= form.label :password, class: "label" %></p>
    <p class="mt-sm center"><%= form.password_field :password, class: "form_register" %></p>

    <p class="mt-lg center"><%= form.label :password_confirmation, class: "label" %></p>
    <p class="mt-sm center"><%= form.password_field :password_confirmation, class: "form_register" %></p>

    <p class="mt-lg center">
      <%= form.submit "Edit", class: "button" %>
      <%= link_to "Back", :back, class: "button" %>
    </p>
  <% end %>

  <%= button_to "Delete user", user_path(@user), method: :delete, class: "button centered red mt-sm",
  form: {data: {turbo_confirm: "Are you sure that you want to delete you profile>"}} %>
</div>
